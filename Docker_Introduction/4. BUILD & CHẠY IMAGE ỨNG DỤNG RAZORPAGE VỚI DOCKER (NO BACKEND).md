1. Viết image bằng Dockerfile

- Bài trước, image là công thức nấu ăn để tạo ra hộp cơm (container). Vậy thì làm sao để tạo ra images ?
- Viết Dockerfile, nói nôm na là Dockerfile được dùng để chứa các images, chứa các công thức nấu ăn để tạo nên 1 hộp cơm.

1. Các câu lệnh CLI cơ bản:

2. docker image

|   |
|---|
|docker image [COMMAND]|

- Đây là nhóm lệnh tổng quát liên quan đến việc quản lý các Docker image.
- Nếu mày chỉ gõ mỗi docker image thì Docker sẽ hiện ra danh sách các lệnh con mà mày có thể dùng, kiểu như menu nhà hàng:

- ls: Liệt kê danh sách image.
- pull: Tải image từ Docker Hub.
- rm: Xóa image.
- inspect: Xem thông tin chi tiết về một image.

2. docker image ls

- Lệnh này cụ thể hơn: Liệt kê các image có sẵn trong máy của mày.
- Nó giống như mày mở tủ lạnh ra kiểm tra xem trong đó có gì.
- E.g:

|   |
|---|
|docker image ls|

Output:

|   |
|---|
|![](data:image/png;base64,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)|

1. Thành phần cơ bản của Dockerfile:

*NOTE: dấu # là để comment

1. Syntax:

2. FROM:

- Xác định base image (image nền) để container khởi tạo.
- Ví dụ: Với Razor Page .NET 8, dùng image nền của Microsoft:

|   |
|---|
|FROM mcr.microsoft.com/dotnet/aspnet:8.0|

1. WORKDIR:

- Đặt thư mục làm việc mặc định trong container.

|   |
|---|
|WORKDIR /app|

1. COPY:

- Sao chép file từ máy tính của mày (host) vào container.
- Ví dụ:

|   |
|---|
|COPY . .|

1. RUN:

- Chạy một lệnh trong quá trình build image.
- Ví dụ:

|   |
|---|
|RUN dotnet restore|

1. CMD hoặc ENTRYPOINT

- Xác định lệnh sẽ được chạy khi container khởi động.
- Ví dụ:

|   |
|---|
|ENTRYPOINT ["dotnet", "razorpage-app.dll"]|

1. EXPOSE

- Xác định cổng mà container sẽ mở ra để ứng dụng lắng nghe.

|   |
|---|
|EXPOSE 80|

1. Dockerfile hoàn chỉnh của 1 solution .net 8.0 (example)

- Tự tạo 1 project đi, của tao là LibraryManager

|   |
|---|
|# Sử dụng SDK để phát triển<br><br>FROM mcr.microsoft.com/dotnet/sdk:8.0 AS dev<br><br># Cấu hình thư mục làm việc<br><br>WORKDIR /app<br><br># Sao chép file project và restore dependencies<br><br>COPY ["LibraryManager.csproj", "."]<br><br>RUN dotnet restore "./LibraryManager.csproj"<br><br># Sao chép toàn bộ mã nguồn<br><br>COPY . .<br><br>ENTRYPOINT ["dotnet", "run", "--urls", "[http://0.0.0.0:8080](http://0.0.0.0:8080)"]|

*NOTE:

- Dockerfile này Visual Studio tự gen
- "[http://0.0.0.0:8080](http://0.0.0.0:8080)" là port của container, phải nhớ kĩ.

1. Viết Dockerfile xong thì làm gì ?

2. Tiến hành build các images bằng lệnh:

|   |
|---|
|docker build -t library-manager .|

Giải thích:

docker build: Lệnh để tạo image từ Dockerfile.

-t library-manager: Đặt tên (tag) cho image là library-manager.

.(dấu chấm): Chỉ định Dockerfile nằm trong thư mục hiện tại.

1. Chạy container từ Dockerfile (images)

- Chạy thử container từ image vừa build:

|   |
|---|
|docker run -d -p 8080:8080 -t  library-manager|

*NOTE:

- 8080 (bên phải) là port của container, nó phải giống với dòng 8080 ENTRYPOINT trong Dockerfile.
- 8080 (bên trái) là port của máy host (máy của mình chạy local), cái này thì số nào cũng được

Giải thích:

-d: Chạy container ở chế độ nền (detached).

1. Kiểm tra Container đang chạy:

|   |
|---|
|docker ps|

Check output nó sẽ show ra các Containers đang chạy:

|   |
|---|
|CONTAINER ID      IMAGE                    COMMAND                           CREATED            STATUS             PORTS                                                      NAMES<br><br>cf2cb91fe9d7        library-manager   "dotnet LibraryManag…"   5 seconds ago   Up 3 seconds   0.0.0.0:8080-8081->8080-8081/tcp   library-manager-container|

1. Muốn xóa ALL image và container

- Nếu mày muốn xóa hết sạch containers, images, volumes, networks thì chạy lệnh này:

|                                  |
| -------------------------------- |
| docker system prune -a --volumes |